{"version":3,"sources":["reducers/index.js","reducers/searchReducers.js","config/constants.js","reducers/playReducers.js","store.js","config/youtube.js","components/Header.js","actions/searchAction.js","components/Footer.js","components/Player.js","components/Song.js","actions/PlaySongActions.js","components/Songs.js","App.js","index.js"],"names":["combineReducers","query","state","type","payload","songs","play","composeMiddleware","compose","applyMiddleware","thunk","window","__REDUX_DEVTOOLS_EXTENSION__","createStore","rootReducer","instance","axios","create","baseURL","interceptors","request","use","config","params","part","maxResults","key","Header","searchQuery","search","event","setState","target","value","submit","preventDefault","props","searchSong","searchYoutube","className","id","this","onChange","href","onClick","Component","connect","q","dispatch","updateQuery","youtube","get","then","response","data","items","Footer","Player","hidePlayer","stopPlayer","clearVideo","togglePlayer","showClearVideo","getSnapshotBeforeUpdate","prevProps","prevState","componentDidUpdate","snapshot","playerClassName","embedUrl","title","width","height","src","frameBorder","allowFullScreen","aria-hidden","Song","playThisSong","playVideo","song","videoId","createdAt","moment","snippet","publishedAt","fromNow","thumbnails","default","url","alt","channelTitle","aria-label","Songs","map","kind","App","ReactDOM","render","store","document","getElementById"],"mappings":"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","file":"static/js/main.c1a36e16.chunk.js","sourcesContent":["import { combineReducers } from \"redux\";\r\nimport { queryReducers, searchReducers } from \"./searchReducers\";\r\nimport { playReducers } from \"./playReducers\";\r\n\r\nexport default combineReducers({\r\n  query: queryReducers,\r\n  songs: searchReducers,\r\n  play: playReducers\r\n});\r\n","import { SEARCH_SONG, UPDATE_QUERY } from \"../config/constants\";\r\n\r\nexport const queryReducers = (state = \"favourites\", { type, payload }) => {\r\n  switch (type) {\r\n    case UPDATE_QUERY: {\r\n      return payload;\r\n    }\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n};\r\n\r\nexport const searchReducers = (state = [], { type, payload }) => {\r\n  switch (type) {\r\n    case SEARCH_SONG: {\r\n      return payload;\r\n    }\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n};\r\n","export const PLAY_SONG = \"PLAY_SONG\";\r\nexport const SEARCH_SONG = \"SEARCH_SONG\";\r\nexport const UPDATE_QUERY = \"UPDATE_QUERY\";\r\nexport const M3TUBE_KEY = \"AIzaSyB-CD2qqObMMMCUthOT1bV8bz32XmZ9pmE\";\r\nexport const M3TUBE_URL = \"https://www.googleapis.com/youtube/v3\";\r\n","import { PLAY_SONG } from \"../config/constants\";\r\n\r\nexport const playReducers = (state = false, { type, payload }) => {\r\n  switch (type) {\r\n    case PLAY_SONG: {\r\n      return payload;\r\n    }\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n};\r\n","import { createStore, applyMiddleware, compose } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport rootReducer from \"./reducers\";\r\n\r\nconst composeMiddleware = compose(\r\n  applyMiddleware(thunk),\r\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n);\r\n\r\nexport default createStore(rootReducer, composeMiddleware);\r\n","import axios from \"axios\";\r\nimport { M3TUBE_KEY, M3TUBE_URL } from \"./constants\";\r\n\r\nconst instance = axios.create({\r\n  baseURL: M3TUBE_URL\r\n});\r\n\r\ninstance.interceptors.request.use(config => {\r\n  config.params = {\r\n    part: \"snippet\",\r\n    maxResults: 20,\r\n    key: M3TUBE_KEY,\r\n    ...config.params\r\n  };\r\n  return config;\r\n});\r\n\r\nexport default instance;\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { updateQuery, searchYoutube } from \"../actions/searchAction\";\r\n\r\nclass Header extends Component {\r\n  state = { searchQuery: \"\" };\r\n\r\n  search = event => {\r\n    this.setState({\r\n      searchQuery: event.target.value\r\n    });\r\n  };\r\n\r\n  submit = event => {\r\n    event.preventDefault();\r\n    this.props.searchSong(this.state.searchQuery);\r\n    this.props.searchYoutube(this.state.searchQuery);\r\n  };\r\n  render() {\r\n    return (\r\n      <div className=\"Header\" id=\"Header\">\r\n        <div>\r\n          <div className=\"field has-addons\">\r\n            <div className=\"control\">\r\n              <input\r\n                className=\"input\"\r\n                type=\"text\"\r\n                value={this.state.searchQuery}\r\n                onChange={this.search}\r\n              />\r\n            </div>\r\n            <div className=\"control\">\r\n              <a href=\"/\" className=\"button is-info\" onClick={this.submit}>\r\n                Search\r\n              </a>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    q: state.query\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    searchSong: query => dispatch(updateQuery(query)),\r\n    searchYoutube: query => dispatch(searchYoutube(query))\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Header);\r\n","import { SEARCH_SONG, UPDATE_QUERY } from \"../config/constants\";\r\nimport youtube from \"../config/youtube\";\r\n\r\nexport const updateQuery = query => {\r\n  return {\r\n    type: UPDATE_QUERY,\r\n    payload: query\r\n  };\r\n};\r\n\r\nconst fetchSongs = songs => {\r\n  return {\r\n    type: SEARCH_SONG,\r\n    payload: songs\r\n  };\r\n};\r\n\r\nexport const searchYoutube = query => {\r\n  return dispatch => {\r\n    youtube.get(\"/search\", { params: { q: query } }).then(response => {\r\n      dispatch(fetchSongs(response.data.items));\r\n    });\r\n  };\r\n};\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class Footer extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"Footer\" id=\"Footer\">\r\n        <div>\r\n          <p>&nbsp;</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nclass Player extends Component {\r\n  state = { hidePlayer: false, stopPlayer: false, clearVideo: false };\r\n\r\n  togglePlayer = event => {\r\n    event.preventDefault();\r\n    this.setState({ hidePlayer: !this.state.hidePlayer });\r\n  };\r\n\r\n  stopPlayer = event => {\r\n    event.preventDefault();\r\n    this.setState({ stopPlayer: true });\r\n  };\r\n\r\n  showClearVideo = event => {\r\n    event.preventDefault();\r\n    this.setState({ clearVideo: !this.state.clearVideo });\r\n  };\r\n\r\n  getSnapshotBeforeUpdate = (prevProps, prevState) => {\r\n    return prevProps.play !== this.props.play;\r\n  };\r\n\r\n  componentDidUpdate = (prevProps, prevState, snapshot) => {\r\n    if (snapshot) {\r\n      this.setState({ stopPlayer: false });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    if (!this.props.play || this.state.stopPlayer) {\r\n      return <div>&nbsp;</div>;\r\n    }\r\n\r\n    let playerClassName = \"\";\r\n    if (this.state.hidePlayer) {\r\n      playerClassName = \"hide\";\r\n    }\r\n\r\n    if (this.state.clearVideo) {\r\n      playerClassName += \" opacity1\";\r\n    }\r\n\r\n    const embedUrl = `https://www.youtube.com/embed/${this.props.play}`;\r\n\r\n    return (\r\n      <div className=\"Player\" id=\"Player\">\r\n        <div className=\"card\">\r\n          <header className=\"card-header\">\r\n            <p className=\"card-header-title\">Playing: {embedUrl}</p>\r\n          </header>\r\n          <div className=\"card-content\">\r\n            <div className=\"content\">\r\n              <div id=\"video-placeholder\" className={playerClassName}>\r\n                <iframe\r\n                  title=\"m3tube\"\r\n                  width=\"640\"\r\n                  height=\"360\"\r\n                  src={embedUrl}\r\n                  frameBorder=\"0\"\r\n                  allowFullScreen\r\n                ></iframe>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <footer className=\"card-footer\">\r\n            <a\r\n              href=\"/\"\r\n              className=\"card-footer-item\"\r\n              onClick={this.togglePlayer}\r\n            >\r\n              <span className=\"icon is-small\">\r\n                <i className=\"fas fa-toggle-on\" aria-hidden=\"true\"></i>\r\n              </span>\r\n            </a>\r\n            <a\r\n              href=\"/\"\r\n              className=\"card-footer-item\"\r\n              onClick={this.showClearVideo}\r\n            >\r\n              <span className=\"icon is-small\">\r\n                <i className=\"fas fa-cloud\" aria-hidden=\"true\"></i>\r\n              </span>\r\n            </a>\r\n            <a href=\"/\" className=\"card-footer-item\" onClick={this.stopPlayer}>\r\n              <span className=\"icon is-small\">\r\n                <i className=\"fas fa-stop\" aria-hidden=\"true\"></i>\r\n              </span>\r\n            </a>\r\n          </footer>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    play: state.play\r\n  };\r\n};\r\nexport default connect(mapStateToProps)(Player);\r\n","import React, { Component } from \"react\";\r\nimport moment from \"moment\";\r\nimport { connect } from \"react-redux\";\r\nimport { playVideo } from \"../actions/PlaySongActions\";\r\n\r\nclass Song extends Component {\r\n  playThisSong = event => {\r\n    event.preventDefault();\r\n    this.props.playVideo(this.props.song.id.videoId);\r\n  };\r\n  render() {\r\n    const createdAt = moment(this.props.song.snippet.publishedAt).fromNow();\r\n    return (\r\n      <div className=\"Song\" id=\"Song\">\r\n        <div className=\"box\">\r\n          <article className=\"media\">\r\n            <div className=\"media-left\">\r\n              <figure className=\"image is-64x64\">\r\n                <img\r\n                  src={this.props.song.snippet.thumbnails.default.url}\r\n                  alt={this.props.song.snippet.title}\r\n                />\r\n              </figure>\r\n            </div>\r\n            <div className=\"media-content\">\r\n              <div className=\"content\">\r\n                <p>\r\n                  <strong>{createdAt}</strong>&nbsp;\r\n                  <small>{this.props.song.snippet.channelTitle}</small>\r\n                  <br />\r\n                  {this.props.song.snippet.title}\r\n                </p>\r\n              </div>\r\n              <nav className=\"level is-mobile\">\r\n                <div className=\"level-left\">\r\n                  <a\r\n                    href=\"/\"\r\n                    className=\"level-item\"\r\n                    aria-label=\"reply\"\r\n                    onClick={this.playThisSong}\r\n                  >\r\n                    <span className=\"icon is-small\">\r\n                      <i className=\"fas fa-play\" aria-hidden=\"true\"></i>\r\n                    </span>\r\n                  </a>\r\n                </div>\r\n              </nav>\r\n            </div>\r\n          </article>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    playVideo: videoId => {\r\n      dispatch(playVideo(videoId));\r\n    }\r\n  };\r\n};\r\nexport default connect(null, mapDispatchToProps)(Song);\r\n","export const PLAY_SONG = \"PLAY_SONG\";\r\n\r\nexport const playVideo = videoId => {\r\n  return {\r\n    type: PLAY_SONG,\r\n    payload: videoId\r\n  };\r\n};\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Song from \"./Song\";\r\n\r\nclass Songs extends Component {\r\n  render() {\r\n    const songs = this.props.songs.map((song, key) => {\r\n      if (song.id.kind !== \"youtube#video\") {\r\n        return \"\";\r\n      }\r\n      return <Song song={song} key={key} />;\r\n    });\r\n    return (\r\n      <div className=\"Songs\" id=\"Songs\">\r\n        {songs}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    songs: state.songs\r\n  };\r\n};\r\nexport default connect(mapStateToProps)(Songs);\r\n","import React, { Component } from \"react\";\r\nimport Header from \"./components/Header\";\r\nimport Footer from \"./components/Footer\";\r\nimport Player from \"./components/Player\";\r\nimport Songs from \"./components/Songs\";\r\n\r\nexport default class App extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"App\" id=\"App\">\r\n        <section className=\"section\">\r\n          <div className=\"container\">\r\n            <Header />\r\n            <Player />\r\n            <Songs />\r\n            <Footer />\r\n          </div>\r\n        </section>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport store from \"./store\";\nimport App from \"./App\";\nimport \"./stylesheets/index.css\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}